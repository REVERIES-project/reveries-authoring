<!--
@license
Copyright (c) 2018 Pierre-Yves Gicquel.
This code may only be used under the "Do whatever you want with code license"
-->
<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-collapse/iron-collapse.html">
    <link rel="import" href="./prefixed-textarea.html">
<link rel="import" href="../../styles/common-styles.html">


<!--
This component is designed to be used with activity requiring feedback. 
The user have to give an explicit response (i.e. free text, mcq, qr code, scan a leave...) which can be correct or
incorrect. 
Such activity requires to provide a textual feedback, which are here defines as correctMessage and wrongMessage 

@demo
@author Gicquel
-->

<dom-module id="activity-feedback">
    <style>
        .correctAnswer {
            --prefixed-textarea: {
                color: green;
            }
        }

        .wrongAnswer {
            --prefixed-textarea: {
                color: red;
            }
        }
    </style>
    <template>
        <iron-collapse id="correct">
            <prefixed-textarea class="correctAnswer" input-value=[[correctMessage]] input-icon="check-circle" disabled>
            </prefixed-textarea>
        </iron-collapse>
        <iron-collapse id="wrong">
            <prefixed-textarea class="wrongAnswer" input-value=[[wrongMessage]] input-icon="cancel" disabled>
            </prefixed-textarea>
        </iron-collapse>
    </template>
    <script>
        (function () {
            'use strict';
            Polymer({
                is: 'activity-feedback',
                /**
                 * Show the message associated with success.
                 *
                 * @method showCorrect
                 */
                showCorrect: function () {
                    this.$.correct.show();
                    this.$.wrong.hide();
                },
                /**
                 * Show the message associated with failing.
                 *
                 * @method showWrong
                 */
                showWrong: function () {
                    this.$.correct.hide();
                    this.$.wrong.show();
                },
                /**
                 * Hide the messages associated with correct and wrong.
                 *
                 * @method showWrong
                 */
                hideAll() {
                    this.$.correct.hide();
                    this.$.wrong.hide();
                },

                properties: {
                    /**
                     * The text message to display when the user success at activity
                     **/
                    correctMessage: {
                        type: String,
                        notify: true,
                    },
                    /**
                     * The text message to display when the user fail at activity
                     **/
                    wrongMessage: {
                        type: String,
                        notify: true,
                    },
                },
            });
        })();
    </script>
</dom-module>